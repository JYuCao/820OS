---
title: 虚拟存储器
markmap:
  colorFreezeLevel: 3
---

# 虚拟存储器
## 常规存储管理方式的特征
- 一次性、驻留性

## 局部性原理
- 时间局限性：某条被执行过的指令不久后可能会再次执行
- 空间局限性：某个存储单元被访问后，附近的存储单元也将被访问

## 定义和特征
- 虚拟存储器：具有请求调入和置换功能，能从逻辑上对内存容量扩充的存储器系统
- 多次性：作业开始运行时允许程序和数据分多次调入内存
- 对换性：作业运行时会进行换入换出，而非全都常驻内存
- 虚拟性：从逻辑上扩充容量

## 请求分页存储管理方式
### 硬件支持
- 请求页表机制：页号、物理块号，状态位P，访问字段A，修改位M，外存地址
- 缺页中断机构
- 地址变换机构

### 请求分页中的内存分配
#### 最小物理块数
- 保证进程正常运行所需的最小物理块数

#### 内存分配策略
- 固定分配局部置换
- 可变分配全局置换
- 可变分配局部置换

#### 物理块分配算法
- 平均分配算法
- 按比例分配算法
- 考虑优先权的分配算法

#### 页面调入策略
- 何时调页：预调页策略、请求调页策略
- 从何处调页：
    - 拥有足够对换区时，从对换区调入
    - 缺少对换区空间时，不会被修改的文件
    从文件区调入，可能被修改的在对换区对换
    - UNIX方式

#### 页面调入过程

