---
title: 操作系统引论
markmap:
  colorFreezeLevel: 3
---

# 操作系统引论
## 操作系统的目标和作用
### 目标
- 方便性*：配置了OS的计算机更易学易用
- 有效性*：提高资源利用率，提高系统吞吐量
- 可扩充性：硬件和体系结构等的可扩充性
- 开放性：遵循国际标准规范开发硬件软件，能更好地互相兼容

### 作用
1. OS作为用户与计算机硬件系统之间的接口

2. OS作为计算机系统资源的管理者

3. OS实现了对计算机资源的抽象
> 扩充机器和虚机器：在裸机上覆盖管理软件，向用户提供了一个对硬件操作的抽象模型。<br>
> 在裸机上铺设的I/O软件隐藏了I/O设备的具体细节，向上提供一组抽象的I/O设备（数据结构和一组操作命令）。用户无需了解物理接口实现细节，从而更容易使用计算机硬件资源。<br>
> 同理，还有文件系统、窗口软件等。

### 推动操作系统发展的主要动力
1. 不断提高计算机资源利用率
2. 方便用户
3. 器件的不断更新迭代
4. 计算机体系结构的不断发展
5. 不断提出新的应用需求

## 操作系统发展过程
### 未配置操作系统的计算机系统
1. 人工操作方式
> 1. 用户一人独占全机
> 2. CPU等待人工操作<br>
> 人机矛盾：由于人工操作，CPU与I/O设备之间速度不匹配。

2. 脱机输入/输出(Off-Line I/O)方式
> 缓解了人机矛盾<br>
> 1. 减少了CPU空闲时间
> 2. 提高了I/O速度

### 单道批处理系统
(Simple Batch Processing System)
- 处理过程：虽然系统对作业的处理是成批进行的，但在 _内存中始终只保持一道作业_。

- 缺点：系统中的资源得不到充分利用

### 多道批处理系统
(Multiprogrammed Batch Processing System)
#### 基本概念

#### 优缺点
- 资源利用率高
- 系统吞吐量大
- 平均周转时间长
- 无交互能力

#### 需要解决的问题
1. 处理机争用
2. 内存分配和保护
3. I/O设备分配
4. 文件的组织和管理
5. 作业管理
6. 用户与系统的接口

操作系统定义：操作系统是一组能有效地组织和管理计算机硬件和软件资源，合理地对各类作业进行调度，以及方便用户使用的程序的集合。

### 分时系统
(Time Sharing System)
#### 引入
- 为了满足用户的需求：
    - 人机交互
    - 共享主机

分时系统：在一台主机上连接了多个配有显示器和键盘的终端并由此组成的系统，该系统允许多个用户同时通过自己的终端，以交互方式使用计算机，共享主机中的资源。

#### 关键问题
1. 及时接收：多路卡与缓冲区
2. 及时处理
    - 作业直接进入内存
    - 采用轮转运行方式：时间片

#### 特征
1. 多路性：允许你多台终端同时连接到一台主机上，分时为每个用户服务
2. 独立性：每个用户在各自终端上进行操作，互不干扰
3. 及时性：用户的请求能在很短的时间内获得响应
4. 交互性：用户可通过终端与系统进行广泛的人机对话

### 实时系统
#### 实时系统的类型
1. 工业（武器）控制系统
2. 信息查询系统
3. 多媒体系统
4. 嵌入式系统

#### 实时任务的类型
1. 周期性与非周期性实时任务
2. 硬实时任务和软实时任务

#### 实时系统特征
1. 多路性：系统周期性对多路现场信息进行采集，
并对多个对象或执行机构进行控制
2. 独立性：信息采集和对象控制之间彼此互不干扰
3. 及时性：以控制对象的截止时间来确定
4. 交互性：用户可以发送特定命令
5. 可靠性：要求系统高度可靠

### 微机操作系统的发展
- 单用户单任务操作系统
- 单用户多任务操作系统
- 多用户多任务操作系统

## 操作系统基本特性
### 并发(Concurrence)
- 并行与并发
- 进程：在系统中能独立运行并作为资源分配的基本单位

### 共享(Sharing)
- 互斥共享方式
> 临界资源：一段时间内只允许一个进程访问的资源
- 同时共享方式

> 并发与共享是多用户操作系统最基本的两个特征

### 虚拟(Virtual)
虚拟：通过某种技术将一个物理实体变为若干个逻辑上的对应物的功能
- 时分复用技术
    - 虚拟处理机技术
    - 虚拟设备技术
- 空分复用技术

### 异步(Asynchronism)
操作系统中进程的运行是不可预知的，但能获得完全相同的结果。

## 操作系统的主要功能
### 处理机管理功能
1. 进程控制：创建进程，终止进程，控制进程状态转换
2. 进程同步：互斥与同步
3. 进程通信：相互合作进程之间的信息交换
4. 调度：作业调度和进程调度

### 存储器管理功能
#### 内存分配
- 为程序分配内存空间
- 提高存储器利用率，减少内存碎片
- 允许正在运行的程序申请额外空间
- 静态分配与动态分配

#### 内存保护
- 确保用户程序在自己的内存空间运行，互不干扰
- 不允许用户访问操作系统的程序和数据，以及转移到其他非共享程序执行

#### 地址映射
- 逻辑地址和物理地址

#### 内存扩充
- 虚拟内存：请求调入和置换功能

### 设备管理功能
1. 缓冲管理：缓和CPU和I/O设备之间速度不匹配的矛盾
2. 设备分配
3. 设备处理（设备驱动）：实现CPU和设备控制器的通信

### 文件管理功能
1. 文件存储空间的管理
2. 目录管理：目录项
3. 文件的读/写管理和保护

### 操作系统与用户之间的接口
1. 用户接口：联机用户接口、脱机用户接口、图形用户接口
2. 程序接口：系统调用

### 现代操作系统的新功能
- 系统安全：认证、密码、访问控制和反病毒
- 网络：网络通信、资源管理、应用互操作
- 多媒体：接纳控制、实时调度、多媒体文件存储

## OS结构设计
### 无结构操作系统
### 模块化结构操作系统
### 分层式结构操作系统
### 微内核操作系统
#### 微内核的基本功能
1. 进程（线程）管理
2. 低级存储器管理
3. 中断和陷入处理
#### 优点
- 提高了可扩展性
- 增强了可靠性
- 可移植性强
- 提供了对分布式系统的支持
- 融入了面向对象技术
#### 缺点
- 效率较低：上下文切换次数多
