---
title: 操作系统接口
markmap:
  colorFreezeLevel: 3
---

# 操作系统接口
## 用户接口
### 字符显示联机用户接口
- 命令行方式
- 批命令方式

### 图形化联机用户接口
- 图形用户接口(GUI)
- WIMP技术：窗口、图标、菜单、鼠标

### 联机命令类型
- 系统访问类、文件操作命令、目录操作命令
- 其他命令：输入输出重定向、管道连接、过滤命令、批命令

## Shell命令语言
### 简单命令
- 系统标准命令、用户自定义命令
- 内部命令、外部命令

### Shell种类
- Bourne Shell, C Shell, Korn Shell

### 简单命令的类型
- 进入与退出系统、文件操作命令、目录操作命令、系统询问命令

### 重定向与管道命令

### 通信命令
- 信箱通信命令、对话通信命令、允许或拒绝接收消息的命令

### 后台命令

## 联机命令接口的实现
### 键盘终端处理程序
- 字符接收功能：面向字符、面向行
- 字符缓冲功能：专用缓冲、共用缓冲
- 回送显示
- 屏幕编辑：删除字符/行、插入、移动光标、屏幕上卷下移
- 特殊字符处理：中断字符、停止上卷字符、恢复上卷字符

### MS-DOS解释程序
- 作用：给出提示符请用户键入命令，读入命令并识别处理
- 组成：常驻部分，包括一些中断服务子程序；初始化部分；暂存部分
- 工作流程

### Shell解释程序
- 特点：一条命令行中含多条命令；具有不同的分割符
- 二叉树结构的命令行树
    - 命令表型结点
    - 管道文件型结点
    - 简单命令型结点
- Linux命令解释程序的工作流程

## 系统调用
### 基本概念
- 系统态和用户态、特权指令与非特权指令
- 用户进程进行系统调用
    - 调用过程和被调用过程运行在不同的系统状态
    - 系统调用时会进行状态转换
    - 调用执行完毕后会根据优先级重新调度
    - 系统调用可以嵌套进行
- 中断机制

### 类型
- 进程控制：创建和终止进程、获得和设置进程属性、等待某事件发生
- 文件操纵：创建和删除文件、打开和关闭文件、读写文件
- 进程通信
- 设备管理类、信息维护类

### POSIX标准

## UNIX系统调用
### 进程控制
- 进程的创建与终止
- 改变进程映像和等待
- 其他进程调用

### 文件操纵
- 文件的创建和删除
- 文件的打开和关闭
- 文件的读写
- 建立文件的连接与去连接

### 进程通信
- 消息机制、共享存储器机制、信号量机制

### 信息保护
- 设置和获得时间、获得进程和子进程的时间、
设置文件访问和修改时间、获得当前UNIX系统的名称等

## 系统调用的实现
### 实现方法
#### 系统调用号和参数设置
- 陷入指令自带
- 将参数送入寄存器
- 使用参数表

#### 系统调用处理步骤

#### 系统调用处理子程序处理过程

### UNIX系统调用的实现

### LINUX系统调用的实现

### WIN32的应用程序接口
